Name,Description,Script
Ice Torch,Burn and freeze,inflict(FIRE); inflict(ICE); sfx(~_fire~); sfx(~_ice~[;] ~~[;] 0.2);
Topaz Trap,Encase [mqencase]2,inflict(~mqencase~[;] 2); sfx(~_mqencase~);
Lockdown,Lock [lock]1 dice,inflict(LOCK); sfx(~_lock~);
Upgraded Six,Roll a 7,givedice([7]); runscript(~megaquest/specialdice~[;] [self]);
Mailbox,Get a random item,giveequipment(rand(getequipmentlist(null[;] [][;] [~skillcard~[;] ~excludefromrandomlists~[;] ~robotonly~[;] ~witchonly~[;] ~onceperbattle~[;] ~alternateversion~])));
Black Hole,-1 enemy dice,target.extradice--; sfx(~_curse~);
Microchip,Jam enemy attack,inflict(~mqjam~); sfx(~_mqjam~);
Dual Hook,+[recycle]2 equipment uses,inflictself(REEQUIPNEXT[;] 2);
Glitter Bomb,Inflict 6 statuses,var statuses = loadtext(~megaquest/glitterbomb~); for (i in 0...6) {runscript(~megaquest/delaycall~[;] [function (args) {inflict(args[0]); sfx(~_~ + args[0].toLowerCase());}[;] 0.1 * i[;] rand(statuses)]);}
Halcyon,Cleanse negative effects,sfx(~_survive~); if (self.status.length > 0) for (status in self.status.copy()) if (status.template.blockedbyparallelreduce && !status.invisible) removestatusself(status.type[;] ALL); if (target.status.length > 0) for (status in target.status.copy()) if (!status.template.blockedbyparallelreduce && !status.invisible) removestatus(status.type[;] ALL); if (self.equipment.length > 0) for (eq in self.equipment) {if (eq.shockedsetting > 0) eq.unshockingtimer = 1; if (eq.weakened) {eq.unweaken(); eq.animate(~flashandshake~);} if (!eq.availablethisturn) {eq.availablethisturn = true; eq.animate(~flashandshake~);}} if (self.dicepool.length > 0) for (mydice in self.dicepool) {if (mydice.burn # mydice.alternateburn) {mydice.burn = false; mydice.alternateburn = false; mydice.showoverlayimage = false; mydice.graphic.overlayimage.remove(); if (mydice.graphic.burntext != null) mydice.graphic.burntext.remove();} if (mydice.locked # mydice.priority) {mydice.locked = false; mydice.priority = false;}}
Free For All,Snap 3 equipment,sfx(~jester_snap~); var alleq = []; if (self.equipment.length > 0) for (eq in self.equipment) if (eq.skillcard == ~~ && !eq.hastag(~skillcard~) && eq.availablethisturn) alleq.push(eq); alleq = shuffle(alleq); var c = 3; while (alleq.length > 0 && c > 0) {var eq = alleq.pop(); runscript(~megaquest/snap~[;] [eq[;] self[;] target[;] true[;] false]); c--;}
Trap Card,Snap 1 equipment,sfx(~jester_snap~); var alleq = []; if (self.equipment.length > 0) for (eq in self.equipment) if (eq.skillcard == ~~ && !eq.hastag(~skillcard~) && eq.availablethisturn) alleq.push(eq); alleq = shuffle(alleq); var c = 1; while (alleq.length > 0 && c > 0) {var eq = alleq.pop(); runscript(~megaquest/snap~[;] [eq[;] self[;] target[;] true[;] false]); c--;}
Shrink Ray,Downgrade enemy,if (target.getvar(~mqshrinkray_init~) == 0) {target.setvar(~mqshrinkray_init~[;] 1); target.setvar(~mqshrinkray_level~[;] target.level); target.setvar(~mqshrinkray_level_real~[;] target.level);} var oldlevel = target.getvar(~mqshrinkray_level~); var newlevel = runscript(~megaquest/math/max~[;] [oldlevel - 1[;] 0]); target.setvar(~mqshrinkray_level~[;] newlevel); var bannedenemies = loadtext(~megaquest/shrinkray~); var newenemies = getenemy(newlevel[;] bannedenemies); switchenemy(target[;] rand(newenemies)); runscript(~megaquest/delaycall~[;] [function (args) {args[0].level = args[1];}[;] 1[;] target[;] target.getvar(~mqshrinkray_level_real~)]);
Vinegrowth,Gain [thorns]8 thorns,inflictself(THORNS[;] 8); sfx(~_thorns~);
Stapler,Disable enemy item,sfx(~openchest~); var alleq = []; if (target.equipment.length > 0) for (eq in target.equipment) if (eq.skillcard == ~~ && !eq.hastag(~skillcard~)) alleq.push(eq); if (alleq.length > 0) {var eq = rand(alleq); eq.availablenextturn = false; eq.unavailabletext = eq.displayname + eq.namemodifier; eq.unavailabledetails = [~Unavailable (Stapler)~];}
